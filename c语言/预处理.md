## 预处理指令
### 常用
  ---
  \#define  
  \#include  
  \#ifdef  
  \#else  
  \#endif  
  \#ifndef  
  \#if  
  \#elif  
  \#line  
  \#error   
  \#pragma  
  ---

  预处理不能 进行运算
  
  ```c

    #include <stdio.h>
    #define SQUARE(X)  X*X
    #define PR(X) printf("The result is %d.\n",X) 
    int main(void)
    {
    int x = 5;
    int z;
    printf("x = %d\n",x);
    z=SQUARE(x);
    printf("Evaluating SQUARE(x): ");
    PR(z);
    z=SQUARE(2);
    printf("Evaluating SQUARE(2): ");
    PR(2);
    printf("Evaluating SQUARE(x+2): ");
    PR(SQUARE(x+2));
    printf("Evaluating 100/SQUARE(2): ");
    PR(100 / SQUARE(2));
    printf("x is %d.\n", x);
    printf("Evaluating SQUARE(++x): ");
    PR(SQUARE(++x));
    printf("After incrementing,x is %x.\n", x);
    return 0;
   } 
  ```  
  输出结果
  ```

    x = 5
    Evaluating SQUARE(x): The result is 25.
    Evaluating SQUARE(2): The result is 2.
    Evaluating SQUARE(x+2): The result is 17.
    Evaluating 100/SQUARE(2): The result is 100.
    x is 5.
    Evaluating SQUARE(++x): The result is 49.
    After incrementing,x is 7.
  ```
  
  \# 为预处理符号，预处理不计算
  ```c

    #define POST(x) printf("The square of "#x" is %d.\n",((x)*(x))
    int main(void)
    {
    int y = 5;
    POST(y);
    }
  ```
  输出

  ```

    The square of y is 25;
  ```

  `##`预处理粘合剂
  宏课可以降低运行时间
### `#include`
  * <stdio.h> - 标准系统文件，必须声明原型函数
  * "myfile.c" - 相对或绝对路径
  * gcc a.c b.c -o c\
    将a.c和b.c链接编译
  * 示例
  **头文件**  必须声明原型

  ```h
  #include <string.h>
  #define SLEN 32
  struct names_st
  {
      char first[SLEN];
      char last[SLEN];
  };
  typedef struct names_st names;
  void get_names(names *);
  void show_names(const names *);
  char * s_gets(char * st,int n);
  ```
  **原型文件**
  ```c
   #include <stdio.h>
   #include "h0.h"

   void get_names(names * pn)
    {
        printf("Please enter your first name: ");
        s_gets(pn->first,SLEN);
        printf("Please enter your last name: ");
        s_gets(pn->last,SLEN);
    }
    void show_names(const names * pn)
    {
        printf("%s %s\n",pn->first,pn->last);
    }

    char * s_gets(char * st, int n)
    {
        char * ret_val;
        char * find;
        ret_val = fgets(st,n,stdin);
        if(ret_val)
        {
            find = strchr(st,'\n');
            if(find)
                *find = '\0';
            else
                while(getchar()!= '\n')
                  continue;
        }
        return ret_val;
   }
  ```
  **源文件**
  ```c
  #include <stdio.h>
  #include "h0.h"
  int main(void)
  {
      names candidate;

      get_names(&candidate);
      printf("Let's welcome\n");
      show_names(&candidate);
      printf("to this program!\n");
      return 0;
  }
  ```
### 头文件
  - 明示常量
  - 宏函数
  - 函数声明
  - 结构模板定义

    ```h
    typedef struct _iobuf
    {
      char	*_ptr;
      int	 _cnt;
      char	*_base;
      int	 _flag;
      int	 _file;
      int	 _charbuf;
      int	 _bufsiz;
      char	*_tmpfname;
    } FILE;
    ```
  - 类型定义
    ```h
     #define __SIZE_TYPE__ long unsigned int
    ```
### 其他指令
  - #undef  
    取消已经定义的#define指令  
    对于预定一起而言,#define 标识符 已定义，其他未定义  
    宏在文件位置 #include || #define 决定
  - #ifdef #else #endif

    ```h
    #ifdef MAVIS
    #include "horse.h"
    #define STABLES 5
    #else
    #include "cow.h"
    #define STABLES 15
    #endif
    ```
  - #ifndef
